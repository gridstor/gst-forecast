# Upload Page - Complete Feature Guide ğŸ¯

## ğŸ¨ New Layout with Global Filters & Detail Panel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Curve Management & Upload                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” GLOBAL FILTERS (applies to all sections)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Market â–¼ â”‚ Location â”‚ Product  â”‚ Type â–¼   â”‚ Gran. â–¼  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  [Clear All]                          [X filters active]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ DETAIL PANEL (shows all fields of selected item)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Definition Details                            [Badge]  â”‚   â”‚
â”‚  â”‚ â€¢ ID: 12                    â€¢ Market: CAISO            â”‚   â”‚
â”‚  â”‚ â€¢ Curve Name: NP15_Rev_4H   â€¢ Location: NP15          â”‚   â”‚
â”‚  â”‚ â€¢ Product: Revenue          â€¢ Type: REVENUE            â”‚   â”‚
â”‚  â”‚ â€¢ Battery: 4H               â€¢ Granularity: MONTHLY     â”‚   â”‚
â”‚  â”‚ â€¢ Units: $/MWh              â€¢ Created: 10/7/2025       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DEFINITIONS  â”‚   INSTANCES     â”‚         DATA                 â”‚
â”‚ [Search]     â”‚   [Search]      â”‚                              â”‚
â”‚ [Sort â–¼]     â”‚   [Sort â–¼]      â”‚  Existing Data:              â”‚
â”‚              â”‚                 â”‚  â€¢ 120 points                â”‚
â”‚ â€¢ Def 1      â”‚   â€¢ Inst v1.0   â”‚  â€¢ 2025-01 to 2025-12        â”‚
â”‚ â€¢ Def 2      â”‚   â€¢ Inst v1.1   â”‚                              â”‚
â”‚   ...        â”‚     ...         â”‚  [ğŸ“¥ Download Template]      â”‚
â”‚              â”‚                 â”‚  [ğŸ“¤ Upload New Data]        â”‚
â”‚ [+ Add New]  â”‚   [+ Add New]   â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ Key Features

### ğŸ” **Global Filters (Top Section)**

**Purpose:** Filter ALL sections at once by common criteria

**Filters Available:**
- **Market** (dropdown): CAISO, ERCOT, PJM, NYISO, ISO-NE, MISO
- **Location** (text): Type to filter by location
- **Product** (text): Type to filter by product
- **Curve Type** (dropdown): REVENUE, ENERGY, AS, RA
- **Granularity** (dropdown): HOURLY, DAILY, MONTHLY, QUARTERLY, ANNUAL

**How It Works:**
1. Select "ERCOT" in Market filter
2. **â†’** Column 1 shows only ERCOT definitions
3. **â†’** Column 2 shows only instances from ERCOT definitions
4. **â†’** All filtered automatically!

**Benefits:**
- âœ… Quick filtering across all data
- âœ… No need to search in each column separately
- âœ… See active filter count
- âœ… Clear all with one click

---

### ğŸ“‹ **Detail Panel (Below Global Filters)**

**Purpose:** Show ALL fields of selected definition or instance so you know exactly what you're working with

**Appears When:**
- Click any definition in Column 1 â†’ Shows definition details
- Click any instance in Column 2 â†’ Shows instance + definition details

**Definition Details Shown:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Definition Details                     [Definition] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ID: 12                    Market: CAISO             â”‚
â”‚ Curve Name: NP15_Rev_4H   Location: NP15            â”‚
â”‚ Product: Opt Revenue      Curve Type: REVENUE       â”‚
â”‚ Battery Duration: FOUR_H  Granularity: MONTHLY      â”‚
â”‚ Units: $/MWh              Scenario: P50             â”‚
â”‚ Degradation: NONE         Created: 10/7/2025 3:45PM â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Instance Details Shown:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instance Details                       [Instance]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Definition: NP15_Rev_4H (CAISO â€¢ NP15 â€¢ MONTHLY)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Instance ID: 5            Version: v2025-Q1         â”‚
â”‚ Status: ACTIVE            Model Type: Aurora        â”‚
â”‚ Delivery Start: 2025-01-01  Delivery End: 2025-12-31â”‚
â”‚ Created By: John Doe      Created At: 10/5/2025     â”‚
â”‚ Notes: Q1 2025 forecast run with updated params     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Benefits:**
- âœ… See ALL fields at a glance
- âœ… Verify you're uploading to the right curve
- âœ… Check delivery periods before uploading
- âœ… See creation info and notes
- âœ… Color-coded badge (Blue = Definition, Green = Instance)

---

## ğŸ¯ Complete Workflow Example

### Scenario: Upload Q1 2025 Revenue Data for ERCOT Houston

**Step 1: Apply Global Filters**
```
1. Click Market dropdown â†’ Select "ERCOT"
2. Type "Houston" in Location filter
3. Type "Revenue" in Product filter
```

**Result:**
- Definitions list shows only: ERCOT + Houston + Revenue curves
- Filter count shows: "3 filters active"

**Step 2: Select Definition**
```
1. Browse filtered list (only 2-3 items now)
2. Click "ERCOT_Houston_Revenue_4H_Monthly"
```

**Result:**
- Detail panel appears showing ALL definition fields:
  - ID, Curve Name, Market, Location
  - Product, Type, Battery Duration
  - Granularity, Units, Scenario, etc.
- Column 2 loads instances for this definition
- You can verify: "Yes, this is the right definition!"

**Step 3: Select Instance**
```
1. Browse instances (pre-filtered to this definition)
2. Search "Q1" if you have many instances
3. Click "v2025-Q1" instance
```

**Result:**
- Detail panel updates showing ALL instance fields:
  - Instance ID, Version, Status
  - Delivery Start/End dates
  - Model Type, Created By, Notes
  - Plus definition info at top
- Column 3 shows existing data preview
- You can verify: "Yes, this is the right period and version!"

**Step 4: Upload Data**
```
1. See existing data: "120 points from 2025-01 to 2025-12"
2. Click "Download Template" (dates pre-filled)
3. Select P-values: P25, P50, P75
4. Generate template
5. Fill in your values in Excel
6. Click "Upload New Data"
7. Select your CSV
8. Preview shows: "360 rows loaded" (3 pvalues Ã— 120 months)
9. Confirm upload
```

**Result:**
- Upload completes
- Toast: "Successfully uploaded 360 data points"
- Data preview updates
- You uploaded to exactly the right place!

---

## ğŸ¨ Visual Design Details

### Color Coding
- **Blue** = Definitions (cards, badges, borders)
- **Green** = Instances (cards, badges, borders)
- **Purple** = Data/Upload (buttons, headers)
- **Gradient** = Detail panel (blue â†’ green â†’ purple)

### Interactive States

**Cards:**
- Normal: White background, gray border
- Hover: Shadow increases, border lightens
- Selected: Colored background, thick colored border, shadow

**Detail Panel:**
- Border changes color based on content:
  - Blue border when showing definition
  - Green border when showing instance
- Gradient background for visual appeal
- Close button (X) in top right

**Global Filters:**
- Active filter count updates live
- "Clear All Filters" button
- Filters persist until cleared

---

## ğŸ’¡ Pro Tips

### Filter Strategy
```
1. Start Broad â†’ Narrow Down:
   - Filter by Market first (ERCOT)
   - Then by Location (Houston)
   - Then by Type (Revenue)

2. Result: 50 definitions â†’ 3 definitions
   - Much easier to find what you need!
```

### Verification Workflow
```
1. Apply filters to narrow down
2. Click definition â†’ Read detail panel
3. Verify: Market, Location, Product, Granularity
4. Click instance â†’ Read detail panel
5. Verify: Delivery period, Version, Status, Notes
6. Check existing data count
7. Upload with confidence!
```

### Quick Upload Pattern
```
For recurring uploads:

1. Set global filters once (CAISO, NP15, Revenue)
2. Keep filters active
3. Click familiar definition
4. Click latest instance
5. Upload updated data
6. Done in 30 seconds!
```

---

## ğŸ” Detail Panel Use Cases

### Use Case 1: Verify Before Upload
**Problem:** "I don't want to upload to the wrong curve!"

**Solution:**
1. Click definition â†’ Detail panel shows ALL fields
2. Check: Market âœ…, Location âœ…, Product âœ…, Granularity âœ…
3. Click instance â†’ Detail panel shows delivery period
4. Check: Start date âœ…, End date âœ…, Version âœ…
5. Upload with confidence!

### Use Case 2: Compare Instances
**Problem:** "Which instance should I use?"

**Solution:**
1. Click Instance A â†’ Read detail panel
   - Version: v1.0, Delivery: Jan-Dec 2025, Model: Aurora
2. Click Instance B â†’ Read detail panel
   - Version: v1.1, Delivery: Jan-Dec 2025, Model: Manual
3. Choose based on notes and model type

### Use Case 3: Audit Trail
**Problem:** "Who created this and when?"

**Solution:**
- Click any item â†’ Detail panel shows:
  - Created By
  - Created At (full timestamp)
  - Notes (if any)
  - All metadata fields

---

## ğŸ“Š Field Reference

### Definition Fields (12 fields shown)
| Field | Description | Example |
|-------|-------------|---------|
| ID | Unique identifier | 12 |
| Curve Name | Full curve name | NP15_Revenue_4H_P50_2024 |
| Market | ISO/Market | CAISO |
| Location | Node/Location | NP15 |
| Product | Product type | Optimized Revenue |
| Curve Type | Type enum | REVENUE |
| Battery Duration | Duration | FOUR_H |
| Granularity | Time granularity | MONTHLY |
| Units | Value units | $/MWh |
| Scenario | Scenario/case | P50 |
| Degradation | Degradation type | NONE |
| Created | Timestamp | 10/7/2025 3:45:23 PM |

### Instance Fields (9+ fields shown)
| Field | Description | Example |
|-------|-------------|---------|
| Definition Info | Parent definition | NP15_Rev_4H (CAISO â€¢ NP15) |
| Instance ID | Unique identifier | 5 |
| Version | Version string | v2025-Q1 |
| Status | Current status | ACTIVE |
| Model Type | Model used | Aurora |
| Delivery Start | Period start | 2025-01-01 |
| Delivery End | Period end | 2025-12-31 |
| Created By | Creator | Jane Smith |
| Created At | Timestamp | 10/5/2025 2:30:15 PM |
| Notes | Free text | Q1 forecast with updated params |

---

## ğŸš€ Quick Reference

### Global Filters
- **Purpose:** Filter all sections at once
- **Location:** Top of page, always visible
- **Effect:** Applies to definitions and instances
- **Clear:** One-click "Clear All Filters" button

### Detail Panel
- **Purpose:** Show all fields of selected item
- **Location:** Below global filters, above columns
- **Shows:** All database fields in organized grid
- **Close:** Click X button or select different item

### Column Search/Sort
- **Purpose:** Fine-tune within filtered results
- **Location:** Top of each column
- **Scope:** Only that column
- **Use:** After global filters for precision

### Visual Indicators
- **Blue highlight** = Selected definition
- **Green highlight** = Selected instance  
- **Filter count** = "X filters active"
- **Status badge** = ACTIVE (green) or other (gray)

---

## âœ… Benefits of New Design

### Before (Old Page)
- âŒ Hard to verify what you're uploading to
- âŒ Had to click through modals to see fields
- âŒ Filtering mixed with selection
- âŒ Couldn't see all info at once

### After (New Page)
- âœ… Detail panel shows ALL fields instantly
- âœ… Global filters apply to everything
- âœ… See definition + instance info together
- âœ… Verify before upload with confidence
- âœ… Professional, organized layout

---

## ğŸ¯ Perfect For

### Data Analyst
"I need to verify I'm uploading to the right forecast version."
- âœ… Detail panel shows exact delivery period
- âœ… See instance version and notes
- âœ… Confirm before upload

### System Administrator
"I need to find all ERCOT monthly revenue curves."
- âœ… Global filters: ERCOT + Revenue + Monthly
- âœ… Instantly see filtered list
- âœ… Detail panel confirms all fields

### Power User
"I upload to the same curves weekly."
- âœ… Set filters once (CAISO, NP15)
- âœ… List stays filtered
- âœ… Quick click-click-upload workflow

---

## ğŸ‰ You're All Set!

Visit: `http://localhost:4321/admin/upload`

**New Features:**
- âœ… Global filters at top
- âœ… Detail panel shows ALL fields
- âœ… Click any item to see full details
- âœ… Filter cascades through all sections
- âœ… Professional, clean, organized

**No more guessing what you're uploading to!** Every field is visible. ğŸš€

