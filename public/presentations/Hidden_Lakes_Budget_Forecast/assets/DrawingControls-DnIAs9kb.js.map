{"version":3,"file":"DrawingControls-DnIAs9kb.js","sources":["../../node_modules/@slidev/client/internals/Draggable.vue","../../node_modules/@slidev/client/internals/Draggable.vue","../../node_modules/@slidev/client/internals/DrawingControls.vue","../../node_modules/@slidev/client/internals/DrawingControls.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { useDraggable, useLocalStorage } from '@vueuse/core'\n\nconst props = defineProps<{\n  storageKey?: string\n  initial?: { x: number, y: number }\n}>()\n\nconst el = ref<HTMLElement | null>(null)\nconst initial = props.initial ?? { x: 0, y: 0 }\nconst point = props.storageKey\n  ? useLocalStorage(props.storageKey, initial)\n  : ref(initial)\nconst { style } = useDraggable(el, { initialValue: point })\n</script>\n\n<template>\n  <div ref=\"el\" class=\"fixed\" :style=\"style\">\n    <slot />\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { useDraggable, useLocalStorage } from '@vueuse/core'\n\nconst props = defineProps<{\n  storageKey?: string\n  initial?: { x: number, y: number }\n}>()\n\nconst el = ref<HTMLElement | null>(null)\nconst initial = props.initial ?? { x: 0, y: 0 }\nconst point = props.storageKey\n  ? useLocalStorage(props.storageKey, initial)\n  : ref(initial)\nconst { style } = useDraggable(el, { initialValue: point })\n</script>\n\n<template>\n  <div ref=\"el\" class=\"fixed\" :style=\"style\">\n    <slot />\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport {\n  brush,\n  brushColors,\n  canClear,\n  canRedo,\n  canUndo,\n  clearDrauu,\n  drauu,\n  drawingEnabled,\n  drawingMode,\n  drawingPinned,\n} from '../logic/drawings'\nimport VerticalDivider from './VerticalDivider.vue'\nimport Draggable from './Draggable.vue'\nimport HiddenText from './HiddenText.vue'\n\nfunction undo() {\n  drauu.undo()\n}\nfunction redo() {\n  drauu.redo()\n}\nfunction setDrawingMode(mode: typeof drawingMode.value) {\n  drawingMode.value = mode\n  drawingEnabled.value = true\n}\nfunction setBrushColor(color: typeof brush.color) {\n  brush.color = color\n  drawingEnabled.value = true\n}\n</script>\n\n<template>\n  <Draggable\n    class=\"flex flex-wrap text-xl p-2 gap-1 rounded-md bg-main shadow transition-opacity duration-200\"\n    dark=\"border border-gray-400 border-opacity-10\"\n    :class=\"drawingEnabled ? '' : drawingPinned ? 'opacity-40 hover:opacity-90' : 'opacity-0 pointer-events-none'\"\n    storage-key=\"slidev-drawing-pos\"\n    :initial-x=\"10\"\n    :initial-y=\"10\"\n  >\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode !== 'stylus' }\" @click=\"setDrawingMode('stylus')\">\n      <HiddenText text=\"Draw with stylus\" />\n      <carbon:pen />\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode !== 'line' }\" @click=\"setDrawingMode('line')\">\n      <HiddenText text=\"Draw a line\" />\n      <svg width=\"1em\" height=\"1em\" class=\"-mt-0.5\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 24 24\">\n        <path d=\"M21.71 3.29a1 1 0 0 0-1.42 0l-18 18a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l18-18a1 1 0 0 0 0-1.42z\" fill=\"currentColor\" />\n      </svg>\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode !== 'arrow' }\" @click=\"setDrawingMode('arrow')\">\n      <HiddenText text=\"Draw an arrow\" />\n      <carbon:arrow-up-right />\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode !== 'ellipse' }\" @click=\"setDrawingMode('ellipse')\">\n      <HiddenText text=\"Draw an ellipse\" />\n      <carbon:radio-button />\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode !== 'rectangle' }\" @click=\"setDrawingMode('rectangle')\">\n      <HiddenText text=\"Draw a rectangle\" />\n      <carbon:checkbox />\n    </button>\n    <!-- TODO: not sure why it's not working! -->\n    <!-- <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode != 'eraseLine' }\" @click=\"setDrawingMode('eraseLine')\">\n      <HiddenText text=\"Erase\" />\n      <carbon:erase />\n    </button> -->\n\n    <VerticalDivider />\n\n    <button\n      v-for=\"color of brushColors\"\n      :key=\"color\"\n      class=\"slidev-icon-btn\"\n      :class=\"brush.color === color ? 'active' : 'shallow'\"\n      @click=\"setBrushColor(color)\"\n    >\n      <HiddenText text=\"Set brush color\" />\n      <div\n        class=\"w-6 h-6 transition-all transform border border-gray-400/50\"\n        :class=\"brush.color !== color ? 'rounded-1/2 scale-85' : 'rounded-md'\"\n        :style=\"drawingEnabled ? { background: color } : { borderColor: color }\"\n      />\n    </button>\n\n    <VerticalDivider />\n\n    <button class=\"slidev-icon-btn\" :class=\"{ disabled: !canUndo }\" @click=\"undo()\">\n      <HiddenText text=\"Undo\" />\n      <carbon:undo />\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ disabled: !canRedo }\" @click=\"redo()\">\n      <HiddenText text=\"Redo\" />\n      <carbon:redo />\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ disabled: !canClear }\" @click=\"clearDrauu()\">\n      <HiddenText text=\"Delete\" />\n      <carbon:delete />\n    </button>\n\n    <VerticalDivider />\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: !drawingPinned }\" @click=\"drawingPinned = !drawingPinned\">\n      <HiddenText :text=\"drawingPinned ? 'Unpin drawing' : 'Pin drawing'\" />\n      <carbon:pin-filled v-show=\"drawingPinned\" class=\"transform -rotate-45\" />\n      <carbon:pin v-show=\"!drawingPinned\" />\n    </button>\n    <button\n      v-if=\"drawingEnabled\"\n      class=\"slidev-icon-btn\"\n      :class=\"{ shallow: !drawingEnabled }\"\n      @click=\"drawingEnabled = !drawingEnabled\"\n    >\n      <HiddenText :text=\"drawingPinned ? 'Drawing pinned' : 'Drawing unpinned'\" />\n      <carbon:error v-show=\"drawingPinned\" />\n      <carbon:close-outline v-show=\"!drawingPinned\" />\n    </button>\n  </Draggable>\n</template>\n","<script setup lang=\"ts\">\nimport {\n  brush,\n  brushColors,\n  canClear,\n  canRedo,\n  canUndo,\n  clearDrauu,\n  drauu,\n  drawingEnabled,\n  drawingMode,\n  drawingPinned,\n} from '../logic/drawings'\nimport VerticalDivider from './VerticalDivider.vue'\nimport Draggable from './Draggable.vue'\nimport HiddenText from './HiddenText.vue'\n\nfunction undo() {\n  drauu.undo()\n}\nfunction redo() {\n  drauu.redo()\n}\nfunction setDrawingMode(mode: typeof drawingMode.value) {\n  drawingMode.value = mode\n  drawingEnabled.value = true\n}\nfunction setBrushColor(color: typeof brush.color) {\n  brush.color = color\n  drawingEnabled.value = true\n}\n</script>\n\n<template>\n  <Draggable\n    class=\"flex flex-wrap text-xl p-2 gap-1 rounded-md bg-main shadow transition-opacity duration-200\"\n    dark=\"border border-gray-400 border-opacity-10\"\n    :class=\"drawingEnabled ? '' : drawingPinned ? 'opacity-40 hover:opacity-90' : 'opacity-0 pointer-events-none'\"\n    storage-key=\"slidev-drawing-pos\"\n    :initial-x=\"10\"\n    :initial-y=\"10\"\n  >\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode !== 'stylus' }\" @click=\"setDrawingMode('stylus')\">\n      <HiddenText text=\"Draw with stylus\" />\n      <carbon:pen />\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode !== 'line' }\" @click=\"setDrawingMode('line')\">\n      <HiddenText text=\"Draw a line\" />\n      <svg width=\"1em\" height=\"1em\" class=\"-mt-0.5\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 24 24\">\n        <path d=\"M21.71 3.29a1 1 0 0 0-1.42 0l-18 18a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l18-18a1 1 0 0 0 0-1.42z\" fill=\"currentColor\" />\n      </svg>\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode !== 'arrow' }\" @click=\"setDrawingMode('arrow')\">\n      <HiddenText text=\"Draw an arrow\" />\n      <carbon:arrow-up-right />\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode !== 'ellipse' }\" @click=\"setDrawingMode('ellipse')\">\n      <HiddenText text=\"Draw an ellipse\" />\n      <carbon:radio-button />\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode !== 'rectangle' }\" @click=\"setDrawingMode('rectangle')\">\n      <HiddenText text=\"Draw a rectangle\" />\n      <carbon:checkbox />\n    </button>\n    <!-- TODO: not sure why it's not working! -->\n    <!-- <button class=\"slidev-icon-btn\" :class=\"{ shallow: drawingMode != 'eraseLine' }\" @click=\"setDrawingMode('eraseLine')\">\n      <HiddenText text=\"Erase\" />\n      <carbon:erase />\n    </button> -->\n\n    <VerticalDivider />\n\n    <button\n      v-for=\"color of brushColors\"\n      :key=\"color\"\n      class=\"slidev-icon-btn\"\n      :class=\"brush.color === color ? 'active' : 'shallow'\"\n      @click=\"setBrushColor(color)\"\n    >\n      <HiddenText text=\"Set brush color\" />\n      <div\n        class=\"w-6 h-6 transition-all transform border border-gray-400/50\"\n        :class=\"brush.color !== color ? 'rounded-1/2 scale-85' : 'rounded-md'\"\n        :style=\"drawingEnabled ? { background: color } : { borderColor: color }\"\n      />\n    </button>\n\n    <VerticalDivider />\n\n    <button class=\"slidev-icon-btn\" :class=\"{ disabled: !canUndo }\" @click=\"undo()\">\n      <HiddenText text=\"Undo\" />\n      <carbon:undo />\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ disabled: !canRedo }\" @click=\"redo()\">\n      <HiddenText text=\"Redo\" />\n      <carbon:redo />\n    </button>\n    <button class=\"slidev-icon-btn\" :class=\"{ disabled: !canClear }\" @click=\"clearDrauu()\">\n      <HiddenText text=\"Delete\" />\n      <carbon:delete />\n    </button>\n\n    <VerticalDivider />\n    <button class=\"slidev-icon-btn\" :class=\"{ shallow: !drawingPinned }\" @click=\"drawingPinned = !drawingPinned\">\n      <HiddenText :text=\"drawingPinned ? 'Unpin drawing' : 'Pin drawing'\" />\n      <carbon:pin-filled v-show=\"drawingPinned\" class=\"transform -rotate-45\" />\n      <carbon:pin v-show=\"!drawingPinned\" />\n    </button>\n    <button\n      v-if=\"drawingEnabled\"\n      class=\"slidev-icon-btn\"\n      :class=\"{ shallow: !drawingEnabled }\"\n      @click=\"drawingEnabled = !drawingEnabled\"\n    >\n      <HiddenText :text=\"drawingPinned ? 'Drawing pinned' : 'Drawing unpinned'\" />\n      <carbon:error v-show=\"drawingPinned\" />\n      <carbon:close-outline v-show=\"!drawingPinned\" />\n    </button>\n  </Draggable>\n</template>\n"],"names":["props","__props","el","ref","initial","point","useLocalStorage","style","useDraggable","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_normalizeStyle","undo","drauu","redo","setDrawingMode","mode","drawingMode","drawingEnabled","setBrushColor","color","brush","_component_carbon58close_outline","__unplugin_components_10","_createBlock","_withCtx","_createElementVNode","_normalizeClass","_createVNode","_component_carbon58pen","_component_carbon58arrow_up_right","_component_carbon58radio_button","_component_carbon58checkbox","_Fragment","_renderList","$event","_hoisted_1","_component_carbon58undo","_component_carbon58redo","_component_carbon58delete","_withDirectives","_component_carbon58pin_filled","_component_carbon58error","_createCommentVNode"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}