import{at as w,au as S,av as W,aw as z,ax as D,ay as E,az as M,aA as V,aB as I,aC as J,t as $,_ as L,o as F,b as G,e as d,l as A,A as v,aD as N,c as O,k as j,q as H,s as U}from"./modules/vue-DUIs0fbu.js";import{u as R,p as Y,f as Z}from"./slidev/context-CmygLaWe.js";import{p as q}from"./chartjs-plugin-datalabels.esm-C0OK1XYl.js";import{l as K,G as _}from"./index-BlbBAShr.js";import{I as Q}from"./slidev/default-CUHOJ2gj.js";import"./modules/shiki-Dfhzjfbi.js";function C(o){return{responsive:!0,maintainAspectRatio:!1,elements:{line:{tension:.4,borderWidth:2,fill:!1},point:{radius:0,hitRadius:10,hoverRadius:4}},interaction:{mode:"nearest",axis:"x",intersect:!1},plugins:{tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#0B2B5B",bodyColor:"#0B2B5B",borderColor:"#0B2B5B",borderWidth:1,padding:10,callbacks:{label:a=>`${a.dataset.label}: $${a.raw.toFixed(2)}/${o}`}},legend:{position:"top",labels:{boxWidth:12,padding:8,font:{size:10}}},datalabels:{display:!1}},scales:{y:{beginAtZero:!1,title:{display:!0,text:`$/${o}`,color:"#0B2B5B",font:{size:10}},ticks:{color:"#0B2B5B",font:{size:10}},grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{display:!1},ticks:{color:"#0B2B5B",font:{size:10},maxRotation:45,autoSkip:!0}}}}}const b={labels:["Jan-25","Feb-25","Mar-25","Apr-25","May-25","Jun-25","Jul-25","Aug-25","Sep-25","Oct-25","Nov-25","Dec-25"],datasets:[{label:"Probability Range, bar P25 to P75, whiskers P5 to P95",backgroundColor:"#0B2B5B33",barPercentage:.3,data:[{x:"Feb-25",y:[5.07*.7*.8,5.07*1.2*.8],p50:5.07*1.02*.8,whisker:[5.07*.5*.8,5.07*1.4*.8]},{x:"Mar-25",y:[7.31*.75*.8,7.31*1.25*.8],p50:7.31*.98*.8,whisker:[7.31*.55*.8,7.31*1.45*.8]},{x:"Apr-25",y:[7.57*.75*.8,7.57*1.3*.8],p50:7.57*1.03*.8,whisker:[7.57*.55*.8,7.57*1.5*.8]},{x:"May-25",y:[6.03*.8*.8,6.03*1.4*.8],p50:6.03*.97*.8,whisker:[6.03*.6*.8,6.03*1.6*.8]},{x:"Jun-25",y:[6.45*.8*.8,6.45*1.5*.8],p50:6.45*1.04*.8,whisker:[6.45*.6*.8,6.45*1.8*.8]},{x:"Jul-25",y:[6.19*.8*.8,6.19*1.6*.8],p50:6.19*.96*.8,whisker:[6.19*.6*.8,6.19*2*.8]},{x:"Aug-25",y:[7.69*.8*.8,7.69*1.6*.8],p50:7.69*1.05*.8,whisker:[7.69*.6*.8,7.69*2*.8]},{x:"Sep-25",y:[6.21*.8*.8,6.21*1.5*.8],p50:6.21*.95*.8,whisker:[6.21*.6*.8,6.21*1.8*.8]},{x:"Oct-25",y:[6.5*.55*.8,6.5*1.35*.8],p50:6.5*1.02*.8,whisker:[6.5*.35*.8,6.5*1.55*.8]},{x:"Nov-25",y:[5.11*.5*.8,5.11*1.3*.8],p50:5.11*.97*.8,whisker:[5.11*.3*.8,5.11*1.5*.8]},{x:"Dec-25",y:[5.59*.45*.8,5.59*1.25*.8],p50:5.59*1.03*.8,whisker:[5.59*.25*.8,5.59*1.45*.8]}],type:"bar",order:2},{label:"P50 Simulation Run",backgroundColor:"#0B2B5B",borderColor:"#0B2B5B",data:[3.78*.8,5.07*1.02*.8,7.31*.98*.8,7.57*1.03*.8,6.03*.97*.8,6.45*1.04*.8,6.19*.96*.8,7.69*1.05*.8,6.21*.95*.8,6.5*1.02*.8,5.11*.97*.8,5.59*1.03*.8],type:"line",borderWidth:2,pointRadius:0,order:1},{label:"2025 - Actual",backgroundColor:"#FFA500",borderColor:"#FFA500",data:[3.78*.8,null,null,null,null,null,null,null,null,null,null,null],pointStyle:"star",pointRadius:12,type:"scatter",order:0,datalabels:{align:"top",anchor:"bottom",offset:10,formatter:()=>`$${(3.78*.8).toFixed(2)} P22`,font:{weight:"bold"}}},{label:"2024 - Actuals",backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgba(255, 99, 132, 0.5)",data:[3.3,3.49,5.76,5.75,4.44,3.2,6.16,4.1,4.74,3.28,3.06,1.9],pointStyle:"circle",pointRadius:6,type:"scatter",order:0}]},X={id:"boxWhisker",beforeDatasetsDraw:(o,a,s)=>{const{ctx:e}=o;o.data.datasets.forEach((x,n)=>{var l;if(!((l=x.data[0])!=null&&l.whisker))return;const g=o.getDatasetMeta(n);g.visible&&x.data.forEach((t,h)=>{if(!t.whisker)return;const m=g.data[h],{x:r}=m.getCenterPoint(),u=o.scales.y,c=u.getPixelForValue(t.whisker[0]),k=u.getPixelForValue(t.whisker[1]);e.save(),e.lineWidth=2,e.strokeStyle="rgba(11, 43, 91, 0.25)",e.beginPath(),e.moveTo(r-12,k),e.lineTo(r+12,k),e.stroke(),e.beginPath(),e.moveTo(r-12,c),e.lineTo(r+12,c),e.stroke(),e.beginPath(),e.moveTo(r,c),e.lineTo(r,k),e.stroke(),e.restore(),e.save(),e.strokeStyle="#0B2B5B",e.lineWidth=3;const f=u.getPixelForValue(t.p50);e.beginPath(),e.moveTo(r-15,f),e.lineTo(r+15,f),e.stroke(),e.restore(),e.save();const i=6;e.fillStyle="#666666";const p=u.getPixelForValue((t.y[0]+t.y[1])/2);e.beginPath(),e.moveTo(r,p-i),e.lineTo(r+i,p),e.lineTo(r,p+i),e.lineTo(r-i,p),e.closePath(),e.fill(),e.restore()})})}};w.register(X);b.datasets[1].data.reduce((o,a)=>o+a,0)/12;b.datasets[3].data.reduce((o,a)=>o+a,0)/12;b.datasets[0].data.reduce((o,a)=>o+(a.y[0]+a.y[1])/2,0)/12;const T={...C("$/kw-mn"),maintainAspectRatio:!1,responsive:!0,layout:{padding:{top:10,right:15,bottom:15,left:10}},plugins:{...C("$/kw-mn").plugins,boxWhisker:{enabled:!0},legend:{position:"top",align:"start",labels:{boxWidth:12,padding:8,font:{size:10},filter:function(o,a){return o.text!=="P50 Markers"}}},tooltip:{callbacks:{label:function(o){const a=o.dataset.label||"";if(o.parsed.y!==null){if(o.dataset.type==="bar"){const s=o.dataset.data[o.dataIndex];return[`${a} Low: $${s.y[0].toFixed(2)}`,`${a} High: $${s.y[1].toFixed(2)}`,`P50: $${s.p50.toFixed(2)}`,`Whisker Low: $${s.whisker[0].toFixed(2)}`,`Whisker High: $${s.whisker[1].toFixed(2)}`]}return`${a}: $${o.parsed.y.toFixed(2)}`}return a}}}},scales:{y:{beginAtZero:!0,suggestedMax:Math.max(...b.datasets[0].data.map(o=>o.whisker[1]))*1.1,title:{display:!0,text:"$/kw-mn",color:"#0B2B5B",font:{size:10}},ticks:{color:"#0B2B5B",font:{size:10}}},x:{grid:{display:!1},ticks:{color:"#0B2B5B",font:{size:10},maxRotation:45,minRotation:45}}}},ee={class:"chart-wrapper"},te={class:"chart-container"},oe={__name:"GoletaProbChart",setup(o){R(),w.register(S,W,z,D,E,M,V,I,J,q);const a=$(b),s=$({...T,animation:!1,responsive:!0,maintainAspectRatio:!1,devicePixelRatio:2,plugins:{...T.plugins,legend:{position:"top",labels:{boxWidth:12,padding:8,font:{size:10}}}}}),e={id:"boxWhisker",beforeDatasetsDraw:(n,g,l)=>{const{ctx:t}=n;n.data.datasets.forEach((h,m)=>{var u;if(!((u=h.data[0])!=null&&u.whisker))return;const r=n.getDatasetMeta(m);r.visible&&h.data.forEach((c,k)=>{if(!c.whisker)return;const f=r.data[k];if(!f)return;const{x:i}=f.getCenterPoint(),p=n.scales.y,y=p.getPixelForValue(c.whisker[0]),B=p.getPixelForValue(c.whisker[1]);t.save(),t.lineWidth=2,t.strokeStyle="rgba(11, 43, 91, 0.25)",t.beginPath(),t.moveTo(i-12,B),t.lineTo(i+12,B),t.moveTo(i-12,y),t.lineTo(i+12,y),t.stroke(),t.beginPath(),t.moveTo(i,y),t.lineTo(i,B),t.stroke(),t.restore(),t.save(),t.strokeStyle="#0B2B5B",t.lineWidth=3;const P=p.getPixelForValue(c.p50);t.beginPath(),t.moveTo(i-15,P),t.lineTo(i+15,P),t.stroke(),t.restore()})})}};w.register(e),L(()=>{a.value={...b}});const x=()=>{const n="data:text/csv;charset=utf-8,"+a.value.labels.map((t,h)=>`${t},${a.value.datasets.map(m=>m.data[h]).join(",")}`).join(`
`),g=encodeURI(n),l=document.createElement("a");l.setAttribute("href",g),l.setAttribute("download","goleta_price_distribution.csv"),document.body.appendChild(l),l.click(),document.body.removeChild(l)};return(n,g)=>(F(),G("div",ee,[d("button",{class:"download-btn",onClick:x}," Download Data "),d("div",te,[A(v(N),{data:a.value,options:s.value},null,8,["data","options"])])]))}},ae=K(oe,[["__scopeId","data-v-98de78c0"]]),re={style:{"text-align":"center",padding:"15px 40px"}},pe={__name:"2",setup(o){return Y(_),R(),(a,s)=>{const e=ae;return F(),O(Q,H(U(v(Z)(v(_),1))),{default:j(()=>[d("div",re,[s[0]||(s[0]=d("h1",{style:{"font-size":"28px",color:"#444444","font-weight":"500","margin-bottom":"15px","line-height":"1.2"}},"Goleta 2025 Budget Forecast",-1)),s[1]||(s[1]=d("div",{style:{"max-width":"1200px",margin:"0 auto","text-align":"left",padding:"0 20px"}},[d("ul",{style:{margin:"0 0 10px 0","padding-left":"25px"}},[d("li",{style:{"font-size":"12px",color:"#555555","margin-bottom":"12px","line-height":"1.4"}},"2025 P50 forecast averages $4.92/kw-mn,Energy Arbitrage TB2.6, 86% RTE."),d("li",{style:{"font-size":"12px",color:"#555555","margin-bottom":"12px","line-height":"1.4"}},"2024 Actuals average $4.10/kw-mn."),d("li",{style:{"font-size":"12px",color:"#555555","margin-bottom":"12px","line-height":"1.4"}},"Price ranges: P25-P75 $3.50-$6.80/kw-mn, whiskers P5-P95 $2.50-$8.20/kw-mn")])],-1)),A(e)])]),_:1},16)}}};export{pe as default};
