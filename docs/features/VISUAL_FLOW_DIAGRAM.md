# Upload Page - Visual Flow Diagram ğŸ“Š

## ğŸ¨ Complete Page Layout

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    Curve Management & Upload                           â•‘
â•‘              Select a definition and instance, upload data             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ” GLOBAL FILTERS                                                     â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â•‘
â•‘  â”‚ Market â–¼ â”‚ Location â”‚ Product  â”‚ Type â–¼   â”‚ Gran. â–¼  â”‚            â•‘
â•‘  â”‚ ERCOT    â”‚ Houston  â”‚ Revenue  â”‚ REVENUE  â”‚ MONTHLY  â”‚            â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â•‘
â•‘  [Clear All Filters]                    [5 filters active]            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ“‹ DETAIL PANEL - Shows ALL fields when you click                    â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  [X]   â•‘
â•‘  â”‚ âš¡ Instance Details                          [Instance]   â”‚        â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â•‘
â•‘  â”‚ Definition: ERCOT_Houston_Revenue_4H (ERCOTâ€¢Houstonâ€¢MON) â”‚        â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â•‘
â•‘  â”‚ Instance ID: 23          Version: v2025-Q1               â”‚        â•‘
â•‘  â”‚ Status: [ACTIVE]         Model: Aurora                   â”‚        â•‘
â•‘  â”‚ Delivery Start: 2025-01-01  Delivery End: 2025-03-31    â”‚        â•‘
â•‘  â”‚ Created By: Jane Smith   Created: 10/5/2025 2:30 PM     â”‚        â•‘
â•‘  â”‚ Notes: Q1 forecast with new gas price assumptions        â”‚        â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ“Š DEFINITIONS   â•‘  ğŸ“ˆ INSTANCES     â•‘  ğŸ’¾ DATA                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ [Search defs...]  â•‘ [Search insts...] â•‘ Selected Instance Info:       â•‘
â•‘ [Sort: Recent â–¼]  â•‘ [Sort: Recent â–¼]  â•‘ ERCOT_Houston_Revenue_4H      â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘ v2025-Q1                      â•‘
â•‘ â”‚ ERCOT Houston â”‚ â•‘ â”‚ v2025-Q1   â—  â”‚ â•‘ Period: 1/1/25 - 3/31/25      â•‘
â•‘ â”‚ Revenue 4H    â”‚ â•‘ â”‚ ACTIVE        â”‚ â•‘ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•‘
â•‘ â”‚ MONTHLY       â”‚ â•‘ â”‚ 10/5/2025     â”‚ â•‘ Existing Data:                â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘ â€¢ 90 data points              â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘ â€¢ 2025-01-01 to 2025-03-31    â•‘
â•‘ â”‚ ERCOT Houston â”‚ â•‘ â”‚ v2024-Q4      â”‚ â•‘ â€¢ All P-values present        â•‘
â•‘ â”‚ AS 2H         â”‚ â•‘ â”‚ ARCHIVED      â”‚ â•‘                               â•‘
â•‘ â”‚ HOURLY        â”‚ â•‘ â”‚ 9/15/2024     â”‚ â•‘ Upload new data to replace    â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘ existing, or download a       â•‘
â•‘       ...         â•‘       ...         â•‘ template to get started.      â•‘
â•‘                   â•‘                   â•‘                               â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘                   â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â•‘
â•‘ â”‚ + Add New     â”‚ â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘ â”‚ ğŸ“¥ Download Template      â”‚â•‘
â•‘ â”‚  Definition   â”‚ â•‘ â”‚ + Add New     â”‚ â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘ â”‚  Instance     â”‚ â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â•‘
â•‘                   â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘ â”‚ ğŸ“¤ Upload New Data        â”‚â•‘
â•‘                   â•‘                   â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ”„ Interactive Flow

### Flow 1: Global Filter â†’ Select â†’ View Details â†’ Upload

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ START       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Apply Global Filters â”‚ â† Market: ERCOT
â”‚                         â”‚ â† Location: Houston  
â”‚                         â”‚ â† Product: Revenue
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ (Filters all sections automatically)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Column 1: Definitions   â”‚ â† Now shows only 3 items
â”‚ (Filtered to ERCOT      â”‚   (was 50+ before)
â”‚  Houston Revenue)       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ Click definition
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ DETAIL PANEL         â”‚ â† Shows ALL definition fields
â”‚ âœ“ Verify Market: ERCOT  â”‚   â€¢ ID: 45
â”‚ âœ“ Verify Location: Hous â”‚   â€¢ Curve Name: ...
â”‚ âœ“ Verify Granularity    â”‚   â€¢ Battery: 4H
â”‚   MONTHLY âœ“             â”‚   â€¢ Created: ...
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â€¢ Units: $/MWh
       â”‚                       â€¢ All 12 fields visible!
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Column 2: Instances     â”‚ â† Loads instances for selected def
â”‚ (Auto-filtered)         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ Click instance
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ DETAIL PANEL         â”‚ â† Shows definition + instance
â”‚ Definition: ERCOT_Hou...â”‚   
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ âœ“ Instance: v2025-Q1    â”‚   â€¢ All instance fields
â”‚ âœ“ Period: 1/1 - 12/31   â”‚   â€¢ Delivery dates
â”‚ âœ“ Status: ACTIVE        â”‚   â€¢ Creator info
â”‚ âœ“ Model: Aurora         â”‚   â€¢ Notes
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â€¢ 9+ fields visible!
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Column 3: Data          â”‚ â† Shows existing data
â”‚ â€¢ 360 points existing   â”‚
â”‚ â€¢ 2025-01 to 2025-12    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ Download Template
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Template Generator      â”‚ â† Dates pre-filled from instance
â”‚ Start: 2025-01-01       â”‚   â€¢ Select P-values
â”‚ End: 2025-12-31         â”‚   â€¢ Generates MONTHLY timestamps
â”‚ P-values: P25,P50,P75   â”‚   â€¢ Based on granularity
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ Fill values in Excel
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Upload Data             â”‚ â† Select filled CSV
â”‚ â€¢ Preview 360 rows      â”‚   â€¢ Validate format
â”‚ â€¢ Confirm upload        â”‚   â€¢ Upload to instance
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… SUCCESS!             â”‚ â† Toast notification
â”‚ 360 points uploaded     â”‚   Data replaces existing
â”‚ Status: ACTIVE          â”‚   Ready for viewing
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Filter Cascade Example

### Scenario: Find CAISO NP15 Monthly Revenue Curves

```
INITIAL STATE (No Filters)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Definitions: 127 total
Instances: 0 (none selected)
Data: 0 (none selected)


STEP 1: Filter by Market
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Global Filter: Market = CAISO
         â†“
Definitions: 127 â†’ 82 (filtered)
Instances: 0 (none selected)
Data: 0 (none selected)


STEP 2: Filter by Location  
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Global Filter: Market = CAISO
               Location = NP15
         â†“
Definitions: 82 â†’ 23 (filtered)
Instances: 0 (none selected)
Data: 0 (none selected)


STEP 3: Filter by Granularity
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Global Filter: Market = CAISO
               Location = NP15
               Granularity = MONTHLY
         â†“
Definitions: 23 â†’ 8 (filtered)
Instances: 0 (none selected)
Data: 0 (none selected)


STEP 4: Select Definition
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Selected: NP15_Revenue_4H_Monthly
         â†“
Definitions: 8 items (1 selected - blue highlight)
Instances: 5 instances load automatically
Data: 0 (waiting for instance selection)
Detail Panel: Shows all 12 definition fields âœ…


STEP 5: Select Instance
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Selected: v2025-Q1
         â†“
Definitions: 8 items (1 selected)
Instances: 5 items (1 selected - green highlight)
Data: Existing data preview shows 360 points âœ…
Detail Panel: Shows definition + instance fields âœ…
```

**Result: 127 definitions â†’ 8 filtered â†’ 1 selected â†’ Ready to upload!** ğŸ¯

---

## ğŸ’¡ Advanced Filtering Patterns

### Pattern 1: Market Deep Dive
```
Filter: Market = ERCOT
Result: See ALL ERCOT curves across locations
Use: Market-wide analysis or batch uploads
```

### Pattern 2: Location Focus
```
Filter: Location = Houston
Result: All Houston curves across markets/types
Use: Site-specific management
```

### Pattern 3: Product Category
```
Filter: Product = Revenue
Result: All revenue curves regardless of location
Use: Product comparison or updates
```

### Pattern 4: Multi-Filter Precision
```
Filter: Market = CAISO
        Location = NP15
        Curve Type = REVENUE
        Granularity = MONTHLY
Result: Exact match for specific use case
Use: Targeted uploads or audits
```

### Pattern 5: Progressive Filtering
```
Step 1: Filter Market = CAISO (127 â†’ 82)
Step 2: See what's available
Step 3: Filter Location = NP15 (82 â†’ 23)
Step 4: Browse 23 items
Step 5: Filter Type = REVENUE (23 â†’ 8)
Step 6: Perfect! Found exactly what I need
```

---

## ğŸ¨ UI State Diagram

```
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚  PAGE LOAD  â”‚
                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Load all definitions via API  â”‚
                â”‚ Show in Column 1               â”‚
                â”‚ Columns 2 & 3 disabled         â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ User applies filters  â”‚
                    â”‚ (optional)            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ User clicks definition     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚                       â”‚
        â†“                       â†“                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Detail Panelâ”‚      â”‚ Column 2: Load   â”‚    â”‚ Column 2: Enableâ”‚
â”‚ Shows ALL   â”‚      â”‚ instances for    â”‚    â”‚ search/sort/add â”‚
â”‚ def fields  â”‚      â”‚ this definition  â”‚    â”‚ buttons         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ User clicks instance  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚                       â”‚
        â†“                       â†“                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Detail Panelâ”‚      â”‚ Column 3: Load   â”‚    â”‚ Column 3: Enableâ”‚
â”‚ Shows def + â”‚      â”‚ existing data    â”‚    â”‚ template/upload â”‚
â”‚ inst fields â”‚      â”‚ for instance     â”‚    â”‚ buttons         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ User downloads templateâ”‚
                    â”‚ OR uploads CSV         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                         â”‚ UPLOAD DATA â”‚
                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Success! Data stored  â”‚
                    â”‚ Toast notification    â”‚
                    â”‚ Data preview updates  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ­ State Transitions

### Column States

#### Column 1: Definitions (Always Active)
```
State 1: INITIAL
â”œâ”€ Loaded: âœ… All definitions from API
â”œâ”€ Filtered: By global filters
â”œâ”€ Search: Active
â”œâ”€ Sort: Active
â””â”€ Add Button: Active

State 2: ITEM SELECTED
â”œâ”€ Highlight: Blue background on selected card
â”œâ”€ Detail Panel: Shows definition fields
â”œâ”€ Column 2: Activates and loads instances
â””â”€ Column 3: Remains disabled (needs instance)
```

#### Column 2: Instances (Active after Column 1 selection)
```
State 1: DISABLED
â”œâ”€ Message: "Select a definition first"
â”œâ”€ Search: Disabled
â”œâ”€ Sort: Disabled
â””â”€ Add Button: Disabled

State 2: ACTIVE (Definition Selected)
â”œâ”€ Loaded: âœ… Instances for selected definition
â”œâ”€ Filtered: By global filters (inherited)
â”œâ”€ Search: Active
â”œâ”€ Sort: Active
â””â”€ Add Button: Active

State 3: ITEM SELECTED
â”œâ”€ Highlight: Green background on selected card
â”œâ”€ Detail Panel: Shows definition + instance fields
â”œâ”€ Column 3: Activates and loads data
â””â”€ Upload buttons: Enabled
```

#### Column 3: Data (Active after Column 2 selection)
```
State 1: DISABLED
â”œâ”€ Message: "Select an instance first"
â”œâ”€ Template Button: Disabled
â””â”€ Upload Button: Disabled

State 2: ACTIVE (Instance Selected)
â”œâ”€ Info: Shows selected definition + instance
â”œâ”€ Existing Data: Loads if available
â”œâ”€ Template Button: Active
â”œâ”€ Upload Button: Active
â””â”€ Preview: Shows on CSV selection

State 3: DATA UPLOADED
â”œâ”€ Preview: Updates with new data counts
â”œâ”€ Toast: Success notification
â””â”€ Ready: For next upload
```

---

## ğŸ¯ Click Flow Examples

### Example A: Simple Upload (3 Clicks)
```
Click 1: Definition "CAISO_NP15_Revenue"
    â†“ Detail panel shows all definition fields
    â†“ Column 2 loads instances

Click 2: Instance "v2025-Q1"
    â†“ Detail panel shows instance + definition
    â†“ Column 3 shows existing data

Click 3: "Upload New Data"
    â†“ Select CSV file
    â†“ Preview â†’ Confirm â†’ Upload
    â†“ Done! âœ…
```

### Example B: With Filtering (5 Clicks)
```
Click 1: Global Filter Market = "ERCOT"
    â†“ Column 1 filters to ERCOT only

Click 2: Global Filter Location = "Houston"
    â†“ Column 1 filters to ERCOT + Houston

Click 3: Definition "ERCOT_Houston_Revenue_4H"
    â†“ Detail panel shows fields
    â†“ Column 2 loads instances

Click 4: Instance "v2025-Q1"
    â†“ Detail panel shows full details
    â†“ Column 3 ready

Click 5: "Download Template"
    â†“ Dates pre-filled â†’ Generate
    â†“ Fill in Excel â†’ Upload
    â†“ Done! âœ…
```

### Example C: Create New Everything (6 Clicks)
```
Click 1: Global Filter Market = "NYISO"
    â†“ Verify no existing NYISO curves

Click 2: "+ Add New Definition"
    â†“ Modal opens
    â†“ Fill fields â†’ Save
    â†“ New definition created and auto-selected

Click 3: Detail panel shows new definition
    â†“ Verify all fields correct

Click 4: "+ Add New Instance"
    â†“ Modal opens
    â†“ Fill fields â†’ Save
    â†“ New instance created and auto-selected

Click 5: Detail panel shows full details
    â†“ Verify delivery period

Click 6: "Download Template"
    â†“ Generate â†’ Fill â†’ Upload
    â†“ Done! New curve complete âœ…
```

---

## ğŸ“Š Data Flow

### API Calls Sequence

```
PAGE LOAD
    â†“
GET /api/curves/definitions
    â†“
Store: allDefs = [127 definitions]
Render: Column 1 list
    â†“
USER: Apply filter Market=ERCOT
    â†“
Client-side filter: allDefs.filter(...)
Render: Column 1 list (82 items)
    â†“
USER: Click definition ID=45
    â†“
GET /api/curves/instances?definitionId=45
    â†“
Store: allInsts = [5 instances]
Render: Column 2 list
Display: Detail panel with definition fields
    â†“
USER: Click instance ID=23
    â†“
GET /api/curves/23/data
    â†“
Display: Detail panel with instance + definition fields
Display: Column 3 existing data preview (360 points)
Enable: Template and Upload buttons
    â†“
USER: Click "Upload New Data"
    â†“
Modal: File picker opens
    â†“
USER: Select CSV file
    â†“
Client: Parse CSV, validate, show preview
    â†“
USER: Confirm upload
    â†“
POST /api/curve-upload/upload-data
Body: { curveInstanceId: 23, priceData: [...] }
    â†“
Server: Validate, delete old data, insert new
    â†“
Response: { success: true, recordsCreated: 360 }
    â†“
Display: Toast notification "Successfully uploaded"
Refresh: Column 3 data preview
    â†“
COMPLETE âœ…
```

---

## ğŸ‰ Summary

### What Makes This Design Better

**Visual Clarity:**
- âœ… See all three sections at once
- âœ… Color-coded for easy navigation
- âœ… Clear progression: Def â†’ Inst â†’ Data

**Information Transparency:**
- âœ… Detail panel shows ALL fields
- âœ… No hidden information
- âœ… Verify before you upload

**Efficient Filtering:**
- âœ… Global filters apply everywhere
- âœ… Column searches refine further
- âœ… Find what you need fast

**Professional Polish:**
- âœ… Smooth transitions
- âœ… Consistent design patterns
- âœ… Intuitive interactions
- âœ… Enterprise-grade UX

**Your upload page is now production-ready!** ğŸš€

